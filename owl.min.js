"use strict";const _=(()=>{class a{constructor(a){a&&("document"===a?this.elems=[document]:"window"===a?this.elems=[window]:"object"==typeof a?this.elems=a:this.elems=document.querySelectorAll(a))}ready(a){a&&"function"==typeof a&&this.each(b=>{b.addEventListener("DOMContentLoaded",a),("interactive"===b.readyState||"complete"===b.readyState)&&a()})}createElement(a){return this.elem=[document.createElement(a)],this}each(a){if(a&&"function"==typeof a){for(let b=0;b<this.elems.length;b++)a(this.elems[b],b);return this}}val(a){return this.each(b=>{b.value=a}),this}css(a,b){return this.each(c=>{c.style[a]=b}),this}html(a=null){let b=[];return this.each(c=>{null===a?b.push(c.innerHTML):c.innerHTML=a}),0===b.length?this:b}on(a,b){if(b&&"function"==typeof b)return this.each(c=>{c.addEventListener(a,b)}),this}find(a){if(a)return this.elems=Array.isArray(this.elems)?this.elems[0].querySelectorAll(a):this.elems.querySelectorAll(a),this}click(a){if(a&&"function"==typeof a)return this.each(b=>{b.addEventListener("click",a)}),this}addClass(a){return this.each(b=>{b.classList.add(a)}),this}removeClass(a){return this.each(b=>{b.classList.remove(a)}),this}toggleClass(a){return this.each(b=>{b.classList.toggle(a)}),this}hasClass(a){return this.each(b=>{b.classList.toggle(a)}),this}ajax(...a){let{method:b,url:c,data:d,dataType:e,ContentType:f}=a[0];b||(b="GET");let g={method:b,headers:new Headers};d?g.data=d:null,e?g.dataType=e:null,f?g.ContentType=f:null;let h=new Request(c,g);return fetch(h).then(a=>{if(a.ok){const b=a.headers.get("Content-Type")||"";return b.includes("application/json")?a.json().catch(a=>Promise.reject(new ResponseError("Invalid JSON: "+a.message))):b.includes("text/html")?a.text().then(a=>({page_type:"generic",html:a})).catch(a=>Promise.reject(new ResponseError("HTML error: "+a.message))):Promise.reject(new ResponseError("Invalid content type: "+b))}return 404==a.status?Promise.reject(new NotFoundError("Page not found: "+c)):Promise.reject(new HttpError("HTTP error: "+a.status))}).catch(a=>Promise.reject(new NetworkError(a.message)))}getJSON(a){return this.ajax({method:"GEt",url:a,dataType:"json",ContentType:"application/json"})}hide(){return this.each(a=>{a.style.display="none"}),this}show(a){return this.each(b=>{b.style.display=a||"block"}),this}fadeOut(){return this.each(a=>{a.style.opacity=1,function b(){0>(a.style.opacity-=.1)?a.style.display="none":requestAnimationFrame(b)}()}),this}fadeIn(a){return this.each(b=>{b.style.opacity=0,b.style.display=a||"block",function a(){var c=parseFloat(b.style.opacity);1<(c+=.1)||(b.style.opacity=c,requestAnimationFrame(a))}()}),this}}return b=>new a(b)})();
